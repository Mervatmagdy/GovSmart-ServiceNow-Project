<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_client_script">
    <sys_ux_client_script action="INSERT_OR_UPDATE">
        <controller_preset/>
        <includes>59c9674460031110f87729648b07b76b</includes>
        <macroponent display_value="Analytics Center Default">e79e290e838eb69078c11a30ceaad34f</macroponent>
        <name>Update URL Params</name>
        <preset/>
        <required_translations>[]</required_translations>
        <script><![CDATA[/*** @param {params} params*
 * @param {api} params.api*
 * @param {any} params.event*
 * @param {any} params.imports*
 * @param {ApiHelpers} params.helpers*/
function handler({api, event, helpers, imports}) {
	// do not perform anything on PAE pages, as we redirect to 'analytics-center-home'
    if (api.context.app.appId == "08c73d60537101100834ddeeff7b1287") {
        return;
    }
	const acceptedDashboardFilters = ['recent', 'bookmarked', 'certified', 'created_by_me', 'shared_with_me', 'none'];
	const acceptedVizFilters = ['all', 'bookmarked', 'certified', 'created_by_me', 'shared_with_me'];
	const acceptedKpiFilters = api.state.kpiCategoryList.map(e => e.id);
	let currentFilter;
	switch(api.state.selectedTabIndex) {
		case '1':
		case 1:
			currentFilter = acceptedDashboardFilters.find(e => e === api.state.dashboardFilter) || 'recent';
			if(api.state.dashboardFilter !== currentFilter) {
				api.setState('dashboardFilter', currentFilter);
			}
			break;
		case '2':
		case 2:
			currentFilter = acceptedVizFilters.find(e => e === api.state.predefinedFilterType) || 'all';
			if(api.state.predefinedFilterType !== currentFilter) {
				api.setState('predefinedFilterType', currentFilter);
			}
			break;
		case '3':
		case 3:
			currentFilter = acceptedKpiFilters.find(e => e === api.state.kpiFilter) || acceptedKpiFilters[0];
			const {reloadListWithFilters} = imports['sn_app_analytics_w.GenerateFilter']();
			const { showBookmarked, filterCondition } = reloadListWithFilters(currentFilter, api.state.kpiSearchTerm, api.context.session.user.userName);
			if(api.state.kpiFilter !== currentFilter || api.state.filterCondition !== api.state.filterCondition || api.state.showBookmarked !== showBookmarked) {
				api.setState('kpiFilter', currentFilter);
				api.setState('showBookmarked', showBookmarked);
				api.setState('filterCondition', filterCondition);
			}
			break;
	}
	api.emit("CONTENT_UPDATED", {params: {tab: api.state.selectedTabIndex, filter: currentFilter,}});
}]]></script>
        <script_api_version>2.0.0</script_api_version>
        <sys_class_name>sys_ux_client_script</sys_class_name>
        <sys_created_by>menna.admin</sys_created_by>
        <sys_created_on>2025-12-27 16:17:52</sys_created_on>
        <sys_id>a79ee90e838eb69078c11a30ceaad326</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Update URL Params</sys_name>
        <sys_package display_value="GovSmart Review &amp;amp; Visit Management System" source="x_1850706_govsma_0">e0e99de183fdf21078c11a30ceaad3e5</sys_package>
        <sys_policy/>
        <sys_scope display_value="GovSmart Review &amp;amp; Visit Management System">e0e99de183fdf21078c11a30ceaad3e5</sys_scope>
        <sys_update_name>sys_ux_client_script_a79ee90e838eb69078c11a30ceaad326</sys_update_name>
        <sys_updated_by>menna.admin</sys_updated_by>
        <sys_updated_on>2025-12-27 16:17:52</sys_updated_on>
        <target>macroponent</target>
        <type>default</type>
    </sys_ux_client_script>
</record_update>
